<app-navbar></app-navbar>

<form [formGroup]="formRegister" autocomplete="off">
  <div class="container card mt-5">
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
      <button
        class="btn btn-primary mt-3 mb-5 btn-block"
        type="button"
        (click)="addPhone()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-telephone-fill"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"
          />
        </svg>
        + Agregar Telefono
      </button>
      <button
        class="btn btn-primary mt-3 mb-5 btn-block"
        type="button"
        (click)="addEmail()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-envelope-plus-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.026A2 2 0 0 0 2 14h6.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586l-1.239-.757ZM16 4.697v4.974A4.491 4.491 0 0 0 12.5 8a4.49 4.49 0 0 0-1.965.45l-.338-.207z"
          />
          <path
            d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5"
          /></svg
        >Agregar Correo
      </button>
    </div>
    <div
      class="row col-12 p-3 animate__animated animate__fadeIn d-flex justify-content-center"
    >
      <h3>Datos de contacto</h3>

      <div class="col-3 mb-4">
        <label class="form-label">Nombre</label>
        <input
          type="text"
          class="form-control"
          placeholder="Nombre"
          formControlName="userName"
        />
        <small *ngIf="isValidField('userName')" class="text-danger"
          >Este campos es obligatorio</small
        >
      </div>
      <div class="col-3 mb-4">
        <label class="form-label">Apellido</label>
        <input
          type="text"
          class="form-control"
          placeholder="Apellido"
          formControlName="userLastName"
        />
      </div>
      <div class="col-3 mb-4">
        <label class="form-label">Correo</label>
        <input
          type="email"
          class="form-control"
          placeholder="Correo"
          formControlName="userEmail"
        />
        <small *ngIf="isValidField('userEmail')" class="text-danger"
          >Este campos es obligatorio</small
        >
      </div>
          <div class="col-3 mb-4">
        <label class="form-label">Contraseña</label>
        <input
          type="password"
          class="form-control"
          placeholder="Correo"
          formControlName="userPassword"
        />
        <small *ngIf="isValidField('userPassword')" class="text-danger"
          >Este campos es obligatorio</small
        >
      </div>
      <div class="col-3 mb-4">
        <label class="form-label">Alias</label>
        <input
          type="text"
          class="form-control"
          placeholder="Alias"
          formControlName="userAlias"
        />
      </div>
      <div class="col-3 mb-4">
        <label class="form-label">Empresa</label>
        <input
          type="text"
          class="form-control"
          placeholder="Empresa"
          formControlName="userCompany"
        />
      </div>
      <div class="col-3 mb-4">
        <label class="form-label">Cumpleaños</label>
        <input
          type="datetime-local"
          class="form-control"
          placeholder="Cumpleaños"
          formControlName="userBirthday"
        />
      </div>
      <div class="col-4 mb-4">
        <label class="form-label">Fotografia</label>
        <input type="file" class="form-control" formControlName="userPhoto" />
      </div>

      <div class="form-floating">
        <textarea
          class="form-control"
          placeholder="Leave a comment here"
          id="floatingTextarea2"
          style="height: 100px"
          formControlName="userNotes"
        ></textarea>
        <label for="floatingTextarea2">Notas</label>
      </div>
    </div>

    <!-- table for email -->
    <div
      class="row col-12 p-3 animate__animated animate__fadeIn d-flex justify-content-center"
    >
      <div class="col">
        <table class="table table-hover">
          <thead class="thead-dark">
            <tr>
              <th>#</th>
              <th>Correo</th>
              <th>Tipo</th>
              <th>Detalles</th>
            </tr>
          </thead>
          <tbody formArrayName="userEmail">
            <tr
              *ngFor="let phoneData of userEmail.controls; let i = index"
            >
              <td>{{ i + 1 }}</td>
              <td>
       
                <input type="text" class="form-control" [formControlName]="i" />
                <small *ngIf="isValidField('i')" class="text-danger"
                  >Este campos es obligatorio</small
                >
              </td>
              <td></td>
              <td>
                <button class="btn btn-danger" (click)="deleteEmail(i)">
                  Borrar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- table for phone -->

    <div
      class="row col-12 p-3 animate__animated animate__fadeIn d-flex justify-content-center"
    >
      <div class="col">
        <table class="table table-hover">
          <thead class="thead-dark">
            <tr>
              <th>#</th>
              <th>Telefono</th>
              <th>Tipo</th>
              <th>Detalles</th>
            </tr>
          </thead>
          <tbody formArrayName="userPhoneContact">
            <tr
              *ngFor="let phoneData of userPhoneContact.controls; let i = index"
            >
              <td>{{ i + 1 }}</td>
              <td>
                <div class="input-group mb-3">
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Dropdown</button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>

                    </ul>
                    <input type="text" class="form-control" [formControlName]="i" aria-label="Text input with dropdown button" placeholder="lada">
                    <input type="text" aria-label="Last name" class="form-control" placeholder="Numero">
                    <!-- <input type="text" aria-label="Last name" class="form-control"> -->

                </div>
                <!-- <input type="text" class="form-control" [formControlName]="i" /> -->
                <small
                  *ngIf="isValidField('userPhoneContact')"
                  class="text-danger"
                  >Este campos es obligatorio</small
                >
              </td>
              <td></td>
              <td>
                <button class="btn btn-danger" (click)="deletePhone(i)">
                  Borrar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- <button class="btn btn-primary mt-3 mb-5 btn-block" type="button" (click)="addPhone()">
                + Agregar Telefono
            </button> -->
      </div>
    </div>

    <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-3 mt-5">
      <button
        class="btn btn-outline-danger me-md-2"
        type="button"
        [routerLink]="['/list-contact']"
        routerLinkActive="router-link-active"
      >
        Cancelar
      </button>
      <button class="btn btn-primary" type="button" (click)="saveContact()">Guardar</button>
    </div>
  </div>
</form>
